<!-- Configuration Mismatch Modal -->
<div class="modal fade" id="config-modal" tabindex="-1" role="dialog" aria-labelledby="configModalLabel"
    aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="configModalLabel">Configuration Mismatch!</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                We have found differences between the <code>sample configuration</code> and the
                <code>active configuration</code>.<br />
                This will cause problems when activating the firewall rules.<br />
                <br />
                Please compare the two configuration files in your easywall installation folder.<br />
                <br />
                <ul>
                    <li>config/easywall.ini</li>
                    <li>config/easywall.sample.ini</li>
                </ul>
                Add the missing entries to the configuration file.<br />
                You can use the following commands to compare the files:<br />
                <br />
                <code>diff config/easywall.ini config/easywall.sample.ini</code><br />
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>

<!-- Web Configuration Mismatch Modal -->
<div class="modal fade" id="web-config-modal" tabindex="-1" role="dialog" aria-labelledby="web-configModalLabel"
    aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="web-configModalLabel">Web Configuration Mismatch!</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                We have found differences between the <code>sample configuration</code> and the
                <code>active configuration</code>.<br />
                This will cause problems when activating the firewall rules.<br />
                <br />
                Please compare the two configuration files in your easywall installation folder.<br />
                <br />
                <ul>
                    <li>config/web.ini</li>
                    <li>config/web.sample.ini</li>
                </ul>
                Add the missing entries to the configuration file.<br />
                You can use the following commands to compare the files:<br />
                <br />
                <code>diff config/web.ini config/web.sample.ini</code><br />
                <br />
                After changing the configuration you have to restart easywall-web using:<br />
                <br />
                <code>systemctl restart easywall-web</code><br />
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>

<!-- Help Modal -->
<div class="modal fade" id="helpModal" tabindex="-1" role="dialog" aria-labelledby="helpModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="helpModalLabel">Help</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                To get help, you can currently read the documentation on <a
                    href="https://github.com/jpylypiw/easywall/tree/master/docs" target="_blank">GitHub</a>.
                <br />
                In future versions of the software, the dialog will be filled with the most frequently asked questions
                and suitable answers.
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>

<!-- Version Modal -->
<div class="modal fade" id="versionModal" tabindex="-1" role="dialog" aria-labelledby="versionModalLabel"
    aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="versionModalLabel">Update Check</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <p>
                    <strong>
                        {% if vars.current_version == vars.latest_version %}
                        You have installed the current version.
                        {% else %}
                        New version of easywall available!
                        {% endif %}
                    </strong>
                </p>
                <hr>
                Your easywall version: <b><code>{{vars.current_version}}</code></b><br />
                Latest easywall version: <b><code>{{vars.latest_version}}</code></b><br />
                <hr>
                Latest commit: <b><code>{{vars.commit_sha}}</code></b><br />
                Commit date: <b><code>{{vars.commit_date}} ago</code></b><br />
                <hr>
                <p>
                    <a href="https://github.com/jpylypiw/easywall/blob/master/docs/UPDATE.md" target="_blank">Click here
                        for directions
                        on updating</a> your easywall installation.
                </p>
                <p>Please keep in mind to always keep your installation up to date. You have to inform yourself
                    independently about the closure of possible security gaps.</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>

<!-- Flashes Modal -->
{% with messages = get_flashed_messages() %}
{% if messages %}
<div class="modal fade" id="flashesModal" tabindex="-1" role="dialog" aria-labelledby="flashesModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="flashesModallabel">Flushes</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="flashes">
                {% for message in messages %}
                    <pre>{{ message }}</pre><br>
                {% endfor %}
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>
{% endif %}
{% endwith %}

<!-- Host Modal -->
<div class="modal fade" id="hostModal" tabindex="-1" role="dialog" aria-labelledby="hostModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="hostModalLabel">Host Details</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <ul class="list-group" style="word-break: break-word">
                    {% for key, value in vars.machine.items() | sort() %}
                    <li class="list-group-item align-items-start">
                        <p class="mb-1 w-100"><strong>{{key}}</strong></p>
                        <p class="mb-0">{{value}}</p>
                    </li>
                    {% endfor %}
                </ul>
            </div>
            <div class="modal-footer">
                <div class="col text-left">
                    <form action="/clean-up-and-restart-services">
                        <button type="submit" class="btn btn-danger">Clean Up &amp; Restart Services </button>
                    </form>
                </div>
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>

<script src="/static/js/jquery-3.3.1.slim.min.js"
    integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
    crossorigin="anonymous"></script>
<script src="/static/js/popper.min.js"
    integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
    crossorigin="anonymous"></script>
<script src="/static/js/bootstrap.min.js"
    integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"
    crossorigin="anonymous"></script>
<script src="/static/js/easywall.js"
    integrity="sha384-f/hoZ4EbA7BXbtLVPMP0buHNj8BmFO4Qe5zumZUOGarrUv/KQwV1LOcmf2Si3udd"
    crossorigin="anonymous"></script>
</body>

</html>